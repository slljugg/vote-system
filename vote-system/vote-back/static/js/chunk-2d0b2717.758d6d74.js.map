{"version":3,"sources":["webpack:///./src/components/vote/Admin.vue?fa38","webpack:///src/components/vote/Admin.vue","webpack:///./src/components/vote/Admin.vue?2206","webpack:///./src/components/vote/Admin.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","_v","on","$event","addDialogVisble","logoutAdmin","userlist","scopedSlots","_u","key","fn","scope","showeditUser","row","id","removeUser","pagenum","pagesize","total","handleSizeChange","handleCurrentChange","addDialogClosed","ref","addForm","addFormRules","model","value","callback","$$v","$set","expression","staticClass","slot","addUser","editDialogVisble","editDialogClosed","editForm","editFormRules","editUser","staticRenderFns","name","data","checkEmail","regEmail","test","cb","Error","email","password","created","getUserList","methods","newSize","newPage","$refs","addFormRef","resetFields","editFormRef","validate","component"],"mappings":"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","file":"js/chunk-2d0b2717.758d6d74.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"admin\"}},[_c('el-breadcrumb',[_c('el-breadcrumb-item',[_vm._v(\"超级管理员\")]),_c('el-breadcrumb-item',[_vm._v(\"admin\")])],1),_c('el-card',[_c('el-row',[_c('el-col',{attrs:{\"span\":3}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.addDialogVisble = true}}},[_vm._v(\"添加用户\")])],1),_c('el-col',{attrs:{\"span\":6}},[_c('el-button',{attrs:{\"type\":\"danger\"},on:{\"click\":_vm.logoutAdmin}},[_vm._v(\"登出超级管理员\")])],1)],1),_c('el-table',{attrs:{\"data\":_vm.userlist,\"border\":true}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"label\":\"#\",\"width\":\"120\"}}),_c('el-table-column',{attrs:{\"label\":\"用户名\",\"prop\":\"name\"}}),_c('el-table-column',{attrs:{\"label\":\"邮箱\",\"prop\":\"email\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-edit\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.showeditUser(scope.row.id)}}},[_vm._v(\"修改\")]),_c('el-button',{attrs:{\"type\":\"danger\",\"icon\":\"el-icon-delete\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.removeUser(scope.row.id)}}},[_vm._v(\"删除\")])]}}])})],1),_c('el-pagination',{attrs:{\"current-page\":_vm.pagenum,\"page-sizes\":[20, 40, 60],\"page-size\":_vm.pagesize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total,\"background\":\"\"},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1),_c('el-dialog',{attrs:{\"title\":\"添加用户\",\"visible\":_vm.addDialogVisble,\"width\":\"50%\"},on:{\"update:visible\":function($event){_vm.addDialogVisble=$event},\"close\":_vm.addDialogClosed}},[_c('el-form',{ref:\"addFormRef\",attrs:{\"model\":_vm.addForm,\"rules\":_vm.addFormRules,\"label-width\":\"70px\"}},[_c('el-form-item',{attrs:{\"label\":\"用户名\",\"prop\":\"name\"}},[_c('el-input',{model:{value:(_vm.addForm.name),callback:function ($$v) {_vm.$set(_vm.addForm, \"name\", $$v)},expression:\"addForm.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"邮箱\",\"prop\":\"email\"}},[_c('el-input',{model:{value:(_vm.addForm.email),callback:function ($$v) {_vm.$set(_vm.addForm, \"email\", $$v)},expression:\"addForm.email\"}})],1),_c('el-form-item',{attrs:{\"label\":\"密码\",\"prop\":\"password\"}},[_c('el-input',{attrs:{\"type\":\"password\"},model:{value:(_vm.addForm.password),callback:function ($$v) {_vm.$set(_vm.addForm, \"password\", $$v)},expression:\"addForm.password\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"danger\"},on:{\"click\":function($event){_vm.addDialogVisble = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"info\"},on:{\"click\":_vm.addDialogClosed}},[_vm._v(\"重 置\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addUser}},[_vm._v(\"确 定\")])],1)],1),_c('el-dialog',{attrs:{\"title\":\"修改用户\",\"visible\":_vm.editDialogVisble,\"width\":\"50%\"},on:{\"update:visible\":function($event){_vm.editDialogVisble=$event},\"close\":_vm.editDialogClosed}},[_c('el-form',{ref:\"editFormRef\",attrs:{\"model\":_vm.editForm,\"rules\":_vm.editFormRules,\"label-width\":\"70px\"}},[_c('el-form-item',{attrs:{\"label\":\"用户名\",\"prop\":\"name\"}},[_c('el-input',{model:{value:(_vm.editForm.name),callback:function ($$v) {_vm.$set(_vm.editForm, \"name\", $$v)},expression:\"editForm.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"邮箱\",\"prop\":\"email\"}},[_c('el-input',{model:{value:(_vm.editForm.email),callback:function ($$v) {_vm.$set(_vm.editForm, \"email\", $$v)},expression:\"editForm.email\"}})],1),_c('el-form-item',{attrs:{\"label\":\"密码\",\"prop\":\"password\"}},[_c('el-input',{attrs:{\"type\":\"password\"},model:{value:(_vm.editForm.password),callback:function ($$v) {_vm.$set(_vm.editForm, \"password\", $$v)},expression:\"editForm.password\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"danger\"},on:{\"click\":function($event){_vm.editDialogVisble = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"info\"},on:{\"click\":_vm.editDialogClosed}},[_vm._v(\"重 置\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.editUser}},[_vm._v(\"确 定\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"admin\">\n    <!-- 面包屑导航区域 -->\n    <el-breadcrumb>\n      <el-breadcrumb-item>超级管理员</el-breadcrumb-item>\n      <el-breadcrumb-item>admin</el-breadcrumb-item>\n    </el-breadcrumb>\n    <!-- 卡片试图区 -->\n    <el-card>\n      <el-row>\n        <el-col :span=\"3\">\n          <el-button type=\"primary\" @click=\"addDialogVisble = true\">添加用户</el-button>\n        </el-col>\n        <el-col :span=\"6\">\n          <el-button type=\"danger\" @click=\"logoutAdmin\">登出超级管理员</el-button>\n        </el-col>\n      </el-row>\n      <el-table :data=\"userlist\" :border=\"true\">\n        <el-table-column type=\"index\" label=\"#\" width=\"120\">\n        </el-table-column>\n        <el-table-column label=\"用户名\" prop=\"name\">\n        </el-table-column>\n        <el-table-column label=\"邮箱\" prop=\"email\">\n        </el-table-column>\n        <el-table-column label=\"操作\">\n          <template slot-scope=\"scope\">\n            <el-button type=\"primary\" icon=\"el-icon-edit\" size=\"mini\"\n              @click=\"showeditUser(scope.row.id)\">修改</el-button>\n            <el-button type=\"danger\" icon=\"el-icon-delete\" size=\"mini\"\n              @click=\"removeUser(scope.row.id)\">删除</el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n      <!-- 分页 -->\n      <el-pagination\n        @size-change=\"handleSizeChange\"\n        @current-change=\"handleCurrentChange\"\n        :current-page=\"pagenum\"\n        :page-sizes=\"[20, 40, 60]\"\n        :page-size=\"pagesize\"\n        layout=\"total, sizes, prev, pager, next, jumper\"\n        :total=\"total\"\n        background>\n      </el-pagination>\n    </el-card>\n    <!-- 添加用户对话框 -->\n    <el-dialog\n      title=\"添加用户\"\n      :visible.sync=\"addDialogVisble\"\n      width=\"50%\" @close=\"addDialogClosed\"\n      >\n      <!-- 内容显示区域 -->\n      <el-form :model=\"addForm\" :rules=\"addFormRules\" ref=\"addFormRef\" label-width=\"70px\">\n        <el-form-item label=\"用户名\" prop=\"name\">\n          <el-input v-model=\"addForm.name\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"邮箱\" prop=\"email\">\n          <el-input v-model=\"addForm.email\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"密码\" prop=\"password\">\n          <el-input v-model=\"addForm.password\" type=\"password\"></el-input>\n        </el-form-item>\n      </el-form>\n      <!-- 底部按钮区域 -->\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button type=\"danger\" @click=\"addDialogVisble = false\">取 消</el-button>\n        <el-button type=\"info\" @click=\"addDialogClosed\">重 置</el-button>\n        <el-button type=\"primary\" @click=\"addUser\">确 定</el-button>\n      </span>\n    </el-dialog>\n    <!-- 修改用户对话框 -->\n    <el-dialog\n      title=\"修改用户\"\n      :visible.sync=\"editDialogVisble\"\n      width=\"50%\" @close=\"editDialogClosed\"\n      >\n      <!-- 内容显示区域 -->\n      <el-form :model=\"editForm\" :rules=\"editFormRules\" ref=\"editFormRef\" label-width=\"70px\">\n        <el-form-item label=\"用户名\" prop=\"name\">\n          <el-input v-model=\"editForm.name\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"邮箱\" prop=\"email\">\n          <el-input v-model=\"editForm.email\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"密码\" prop=\"password\">\n          <el-input v-model=\"editForm.password\" type=\"password\"></el-input>\n        </el-form-item>\n      </el-form>\n      <!-- 底部按钮区域 -->\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button type=\"danger\" @click=\"editDialogVisble = false\">取 消</el-button>\n        <el-button type=\"info\" @click=\"editDialogClosed\">重 置</el-button>\n        <el-button type=\"primary\" @click=\"editUser\">确 定</el-button>\n      </span>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport api from '../../api'\n\nexport default {\n  name: 'admin',\n  data() {\n    // 验证邮箱是否符合\n    var checkEmail = (rule, value, cb) => {\n      const regEmail = /^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\\.[a-zA-Z0-9_-]+)+/\n      if (regEmail.test(value)) {\n        return cb()\n      }\n      cb(new Error('请输入合法的邮箱'))\n    }\n    return {\n      userlist: [],\n      // 信息数目\n      total: 0,\n      pagesize: 20,\n      pagenum: 1,\n      // 控制添加dialog\n      addDialogVisble: false,\n      // 控制编辑dialog\n      editDialogVisble: false,\n      // 添加用户信息\n      addForm: {\n        name: '',\n        email: '',\n        password: '',\n      },\n      // 修改用户信息\n      editForm: '',\n      // 添加规则\n      addFormRules: {\n        name: [\n          { required: true, message: '请输入用户名', trigger: 'blur' },\n          {\n            min: 3,\n            max: 8,\n            message: '用户名长度在3到8个字符',\n            trigger: 'blur',\n          },\n        ],\n        password: [\n          { required: true, message: '请输入密码', trigger: 'blur' },\n          {\n            min: 3,\n            max: 8,\n            message: '用户名长度在6到15个字符',\n            trigger: 'blur',\n          },\n        ],\n        email: [\n          { required: true, message: '请输入邮箱', trigger: 'blur' },\n          { validator: checkEmail, trigger: 'blur' }\n        ],\n      },\n      // 修改规则\n      editFormRules: {\n        name: [\n          { required: true, message: '请输入用户名', trigger: 'blur' },\n          {\n            min: 3,\n            max: 8,\n            message: '用户名长度在3到8个字符',\n            trigger: 'blur',\n          },\n        ],\n        password: [\n          { required: true, message: '请输入密码', trigger: 'blur' },\n          {\n            min: 3,\n            max: 8,\n            message: '用户名长度在3到8个字符',\n            trigger: 'blur',\n          },\n        ],\n        email: [\n          { required: true, message: '请输入邮箱', trigger: 'blur' },\n          { validator: checkEmail, trigger: 'blur' }\n        ],\n      },\n    }\n  },\n  created() {\n    this.getUserList()\n  },\n  methods: {\n    async getUserList() {\n      const { data: res } = await api.get('/userlist')\n      if (res.meta.status !== 200) {\n        return this.$message.error('获取用户信息失败，请确认您已登录')\n      }\n      console.log(res.data)\n      this.userlist = res.data\n      this.total = this.userlist.length\n    },\n    handleSizeChange(newSize) {\n      this.pagesize = newSize\n      this.getUserList()\n    },\n    handleCurrentChange(newPage) {\n      this.pagenum = newPage\n      this.getUserList()\n    },\n    addDialogClosed() {\n      this.$refs.addFormRef.resetFields()\n    },\n    editDialogClosed() {\n      this.$refs.editFormRef.resetFields()\n    },\n    addUser() {\n      // 添加前预检验 result为true才能发送，validate为检验函数\n      this.$refs.addFormRef.validate(async (result) => {\n        if (!result) {\n          return\n        }\n        const { data: res } = await api.post('/register', this.addForm)\n        if (res.meta.status !== 200) {\n          return this.$message.error('添加失败,用户名已存在')\n        }\n        this.$message.success('添加成功')\n        this.getUserList()\n      })\n    },\n    async logoutAdmin() {\n      window.sessionStorage.clear()\n      const { data: res } = await api.get('/logout')\n      if (res.meta.status !== 200) {\n        return this.$message.error('登出失败')\n      }\n      this.$message.success('登出成功')\n      this.$router.push('/login')\n    },\n    async showeditUser(id) {\n      const { data: res } = await api.get('/users/' + id)\n      if (res.meta.status !== 200) {\n        this.$message.error('查询数据失败')\n        return\n      }\n      this.editForm = res.data\n      this.editDialogVisble = true\n    },\n    editUser() {\n      this.$refs.editFormRef.validate(async (result) => {\n        if (!result) {\n          return\n        }\n        const { data: res } = await api.put('/users/' + this.editForm.id, this.editForm)\n        if (res.meta.status !== 200) {\n          this.$message.error('用户数据更新失败')\n          return\n        }\n        // 关闭对话框\n        this.editDialogVisble = false\n        // 刷新数据\n        this.getUserList()\n        // 提示修改成功\n        this.$message.success('用户数据修改成功')\n      })\n    },\n    async removeUser(id) {\n      const confirmResult = await this.$confirm('此操作将永久删除该投票信息, 是否继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).catch(err => err)\n      // console.log(confirmResult)\n      // 如果用户点击确认返回confirm\n      // 若果用户点击取消则返回值为错误  用catch接收错误，然后config出来s cancel\n      if (confirmResult !== 'confirm') {\n        return this.$message.info('已取消删除')\n      }\n      const { data: res } = await api.delete('/users/' + id)\n      if (res.meta.status !== 200) {\n        return this.$message.error('无法删除超级管理员用户')\n      }\n      this.$message.success('删除用户成功')\n      // 刷新数据\n      this.getUserList()\n    }\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Admin.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Admin.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Admin.vue?vue&type=template&id=57b5c818&scoped=true&\"\nimport script from \"./Admin.vue?vue&type=script&lang=js&\"\nexport * from \"./Admin.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"57b5c818\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}